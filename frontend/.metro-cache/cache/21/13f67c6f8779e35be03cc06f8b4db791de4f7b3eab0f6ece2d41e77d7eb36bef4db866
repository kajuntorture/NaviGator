{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"loadTracks\", {\n    enumerable: true,\n    get: function () {\n      return loadTracks;\n    }\n  });\n  Object.defineProperty(exports, \"loadTrackById\", {\n    enumerable: true,\n    get: function () {\n      return loadTrackById;\n    }\n  });\n  Object.defineProperty(exports, \"saveTrack\", {\n    enumerable: true,\n    get: function () {\n      return saveTrack;\n    }\n  });\n  Object.defineProperty(exports, \"deleteTrack\", {\n    enumerable: true,\n    get: function () {\n      return deleteTrack;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const TRACKS_KEY = \"marine_nav_tracks_v1\";\n  const loadTracks = async () => {\n    const raw = await AsyncStorage.default.getItem(TRACKS_KEY);\n    if (!raw) return [];\n    try {\n      const parsed = JSON.parse(raw);\n      return parsed.map(({\n        points,\n        ...summary\n      }) => summary);\n    } catch (e) {\n      console.error(\"Failed to parse tracks from storage\", e);\n      return [];\n    }\n  };\n  const loadTrackById = async id => {\n    const raw = await AsyncStorage.default.getItem(TRACKS_KEY);\n    if (!raw) return null;\n    try {\n      const parsed = JSON.parse(raw);\n      return parsed.find(t => t.id === id) ?? null;\n    } catch (e) {\n      console.error(\"Failed to parse tracks from storage\", e);\n      return null;\n    }\n  };\n  const saveTrack = async track => {\n    const raw = await AsyncStorage.default.getItem(TRACKS_KEY);\n    let tracks = [];\n    if (raw) {\n      try {\n        tracks = JSON.parse(raw);\n      } catch (e) {\n        console.error(\"Failed to parse existing tracks, resetting\", e);\n        tracks = [];\n      }\n    }\n    tracks.push(track);\n    await AsyncStorage.default.setItem(TRACKS_KEY, JSON.stringify(tracks));\n  };\n  const deleteTrack = async id => {\n    const raw = await AsyncStorage.default.getItem(TRACKS_KEY);\n    if (!raw) return;\n    try {\n      const parsed = JSON.parse(raw);\n      const filtered = parsed.filter(t => t.id !== id);\n      await AsyncStorage.default.setItem(TRACKS_KEY, JSON.stringify(filtered));\n    } catch (e) {\n      console.error(\"Failed to delete track\", e);\n    }\n  };\n});","lineCount":89,"map":[[12,2,27,0,"Object"],[12,8,27,0],[12,9,27,0,"defineProperty"],[12,23,27,0],[12,24,27,0,"exports"],[12,31,27,0],[13,4,27,0,"enumerable"],[13,14,27,0],[14,4,27,0,"get"],[14,7,27,0],[14,18,27,0,"get"],[14,19,27,0],[15,6,27,0],[15,13,27,0,"loadTracks"],[15,23,27,0],[16,4,27,0],[17,2,27,0],[18,2,39,0,"Object"],[18,8,39,0],[18,9,39,0,"defineProperty"],[18,23,39,0],[18,24,39,0,"exports"],[18,31,39,0],[19,4,39,0,"enumerable"],[19,14,39,0],[20,4,39,0,"get"],[20,7,39,0],[20,18,39,0,"get"],[20,19,39,0],[21,6,39,0],[21,13,39,0,"loadTrackById"],[21,26,39,0],[22,4,39,0],[23,2,39,0],[24,2,51,0,"Object"],[24,8,51,0],[24,9,51,0,"defineProperty"],[24,23,51,0],[24,24,51,0,"exports"],[24,31,51,0],[25,4,51,0,"enumerable"],[25,14,51,0],[26,4,51,0,"get"],[26,7,51,0],[26,18,51,0,"get"],[26,19,51,0],[27,6,51,0],[27,13,51,0,"saveTrack"],[27,22,51,0],[28,4,51,0],[29,2,51,0],[30,2,66,0,"Object"],[30,8,66,0],[30,9,66,0,"defineProperty"],[30,23,66,0],[30,24,66,0,"exports"],[30,31,66,0],[31,4,66,0,"enumerable"],[31,14,66,0],[32,4,66,0,"get"],[32,7,66,0],[32,18,66,0,"get"],[32,19,66,0],[33,6,66,0],[33,13,66,0,"deleteTrack"],[33,24,66,0],[34,4,66,0],[35,2,66,0],[36,2,1,0],[36,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[36,42,1,0],[36,45,1,0,"require"],[36,52,1,0],[36,53,1,0,"_dependencyMap"],[36,67,1,0],[37,2,1,0],[37,6,1,0,"AsyncStorage"],[37,18,1,0],[37,21,1,0,"_interopDefault"],[37,36,1,0],[37,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[37,73,1,0],[38,2,25,0],[38,8,25,6,"TRACKS_KEY"],[38,18,25,16],[38,21,25,19],[38,43,25,41],[39,2,27,7],[39,8,27,13,"loadTracks"],[39,18,27,23],[39,21,27,26],[39,27,27,26,"loadTracks"],[39,28,27,26],[39,33,27,63],[40,4,28,2],[40,10,28,8,"raw"],[40,13,28,11],[40,16,28,14],[40,22,28,20,"AsyncStorage"],[40,34,28,32],[40,35,28,32,"default"],[40,42,28,32],[40,43,28,33,"getItem"],[40,50,28,40],[40,51,28,41,"TRACKS_KEY"],[40,61,28,51],[40,62,28,52],[41,4,29,2],[41,8,29,6],[41,9,29,7,"raw"],[41,12,29,10],[41,14,29,12],[41,21,29,19],[41,23,29,21],[42,4,30,2],[42,8,30,6],[43,6,31,4],[43,12,31,10,"parsed"],[43,18,31,25],[43,21,31,28,"JSON"],[43,25,31,32],[43,26,31,33,"parse"],[43,31,31,38],[43,32,31,39,"raw"],[43,35,31,42],[43,36,31,43],[44,6,32,4],[44,13,32,11,"parsed"],[44,19,32,17],[44,20,32,18,"map"],[44,23,32,21],[44,24,32,22],[44,25,32,23],[45,8,32,25,"points"],[45,14,32,31],[46,8,32,33],[46,11,32,36,"summary"],[47,6,32,44],[47,7,32,45],[47,12,32,50,"summary"],[47,19,32,57],[47,20,32,58],[48,4,33,2],[48,5,33,3],[48,6,33,4],[48,13,33,11,"e"],[48,14,33,12],[48,16,33,14],[49,6,34,4,"console"],[49,13,34,11],[49,14,34,12,"error"],[49,19,34,17],[49,20,34,18],[49,57,34,55],[49,59,34,57,"e"],[49,60,34,58],[49,61,34,59],[50,6,35,4],[50,13,35,11],[50,15,35,13],[51,4,36,2],[52,2,37,0],[52,3,37,1],[53,2,39,7],[53,8,39,13,"loadTrackById"],[53,21,39,26],[53,24,39,29],[53,30,39,36,"id"],[53,32,39,46],[53,36,39,74],[54,4,40,2],[54,10,40,8,"raw"],[54,13,40,11],[54,16,40,14],[54,22,40,20,"AsyncStorage"],[54,34,40,32],[54,35,40,32,"default"],[54,42,40,32],[54,43,40,33,"getItem"],[54,50,40,40],[54,51,40,41,"TRACKS_KEY"],[54,61,40,51],[54,62,40,52],[55,4,41,2],[55,8,41,6],[55,9,41,7,"raw"],[55,12,41,10],[55,14,41,12],[55,21,41,19],[55,25,41,23],[56,4,42,2],[56,8,42,6],[57,6,43,4],[57,12,43,10,"parsed"],[57,18,43,25],[57,21,43,28,"JSON"],[57,25,43,32],[57,26,43,33,"parse"],[57,31,43,38],[57,32,43,39,"raw"],[57,35,43,42],[57,36,43,43],[58,6,44,4],[58,13,44,11,"parsed"],[58,19,44,17],[58,20,44,18,"find"],[58,24,44,22],[58,25,44,24,"t"],[58,26,44,25],[58,30,44,30,"t"],[58,31,44,31],[58,32,44,32,"id"],[58,34,44,34],[58,39,44,39,"id"],[58,41,44,41],[58,42,44,42],[58,46,44,46],[58,50,44,50],[59,4,45,2],[59,5,45,3],[59,6,45,4],[59,13,45,11,"e"],[59,14,45,12],[59,16,45,14],[60,6,46,4,"console"],[60,13,46,11],[60,14,46,12,"error"],[60,19,46,17],[60,20,46,18],[60,57,46,55],[60,59,46,57,"e"],[60,60,46,58],[60,61,46,59],[61,6,47,4],[61,13,47,11],[61,17,47,15],[62,4,48,2],[63,2,49,0],[63,3,49,1],[64,2,51,7],[64,8,51,13,"saveTrack"],[64,17,51,22],[64,20,51,25],[64,26,51,32,"track"],[64,31,51,44],[64,35,51,64],[65,4,52,2],[65,10,52,8,"raw"],[65,13,52,11],[65,16,52,14],[65,22,52,20,"AsyncStorage"],[65,34,52,32],[65,35,52,32,"default"],[65,42,52,32],[65,43,52,33,"getItem"],[65,50,52,40],[65,51,52,41,"TRACKS_KEY"],[65,61,52,51],[65,62,52,52],[66,4,53,2],[66,8,53,6,"tracks"],[66,14,53,21],[66,17,53,24],[66,19,53,26],[67,4,54,2],[67,8,54,6,"raw"],[67,11,54,9],[67,13,54,11],[68,6,55,4],[68,10,55,8],[69,8,56,6,"tracks"],[69,14,56,12],[69,17,56,15,"JSON"],[69,21,56,19],[69,22,56,20,"parse"],[69,27,56,25],[69,28,56,26,"raw"],[69,31,56,29],[69,32,56,30],[70,6,57,4],[70,7,57,5],[70,8,57,6],[70,15,57,13,"e"],[70,16,57,14],[70,18,57,16],[71,8,58,6,"console"],[71,15,58,13],[71,16,58,14,"error"],[71,21,58,19],[71,22,58,20],[71,66,58,64],[71,68,58,66,"e"],[71,69,58,67],[71,70,58,68],[72,8,59,6,"tracks"],[72,14,59,12],[72,17,59,15],[72,19,59,17],[73,6,60,4],[74,4,61,2],[75,4,62,2,"tracks"],[75,10,62,8],[75,11,62,9,"push"],[75,15,62,13],[75,16,62,14,"track"],[75,21,62,19],[75,22,62,20],[76,4,63,2],[76,10,63,8,"AsyncStorage"],[76,22,63,20],[76,23,63,20,"default"],[76,30,63,20],[76,31,63,21,"setItem"],[76,38,63,28],[76,39,63,29,"TRACKS_KEY"],[76,49,63,39],[76,51,63,41,"JSON"],[76,55,63,45],[76,56,63,46,"stringify"],[76,65,63,55],[76,66,63,56,"tracks"],[76,72,63,62],[76,73,63,63],[76,74,63,64],[77,2,64,0],[77,3,64,1],[78,2,66,7],[78,8,66,13,"deleteTrack"],[78,19,66,24],[78,22,66,27],[78,28,66,34,"id"],[78,30,66,44],[78,34,66,64],[79,4,67,2],[79,10,67,8,"raw"],[79,13,67,11],[79,16,67,14],[79,22,67,20,"AsyncStorage"],[79,34,67,32],[79,35,67,32,"default"],[79,42,67,32],[79,43,67,33,"getItem"],[79,50,67,40],[79,51,67,41,"TRACKS_KEY"],[79,61,67,51],[79,62,67,52],[80,4,68,2],[80,8,68,6],[80,9,68,7,"raw"],[80,12,68,10],[80,14,68,12],[81,4,69,2],[81,8,69,6],[82,6,70,4],[82,12,70,10,"parsed"],[82,18,70,25],[82,21,70,28,"JSON"],[82,25,70,32],[82,26,70,33,"parse"],[82,31,70,38],[82,32,70,39,"raw"],[82,35,70,42],[82,36,70,43],[83,6,71,4],[83,12,71,10,"filtered"],[83,20,71,18],[83,23,71,21,"parsed"],[83,29,71,27],[83,30,71,28,"filter"],[83,36,71,34],[83,37,71,36,"t"],[83,38,71,37],[83,42,71,42,"t"],[83,43,71,43],[83,44,71,44,"id"],[83,46,71,46],[83,51,71,51,"id"],[83,53,71,53],[83,54,71,54],[84,6,72,4],[84,12,72,10,"AsyncStorage"],[84,24,72,22],[84,25,72,22,"default"],[84,32,72,22],[84,33,72,23,"setItem"],[84,40,72,30],[84,41,72,31,"TRACKS_KEY"],[84,51,72,41],[84,53,72,43,"JSON"],[84,57,72,47],[84,58,72,48,"stringify"],[84,67,72,57],[84,68,72,58,"filtered"],[84,76,72,66],[84,77,72,67],[84,78,72,68],[85,4,73,2],[85,5,73,3],[85,6,73,4],[85,13,73,11,"e"],[85,14,73,12],[85,16,73,14],[86,6,74,4,"console"],[86,13,74,11],[86,14,74,12,"error"],[86,19,74,17],[86,20,74,18],[86,44,74,42],[86,46,74,44,"e"],[86,47,74,45],[86,48,74,46],[87,4,75,2],[88,2,76,0],[88,3,76,1],[89,0,76,2],[89,3]],"functionMap":{"names":["<global>","loadTracks","parsed.map$argument_0","loadTrackById","parsed.find$argument_0","saveTrack","deleteTrack","parsed.filter$argument_0"],"mappings":"AAA;0BC0B;sBCK,mCD;CDK;6BGE;uBCK,kBD;CHK;yBKE;CLa;2BME;mCCK,kBD;CNK"},"hasCjsExports":false},"type":"js/module"}]}