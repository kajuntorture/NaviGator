{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _excluded = [\"points\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"loadTracks\", {\n    enumerable: true,\n    get: function () {\n      return loadTracks;\n    }\n  });\n  Object.defineProperty(exports, \"loadTrackById\", {\n    enumerable: true,\n    get: function () {\n      return loadTrackById;\n    }\n  });\n  Object.defineProperty(exports, \"saveTrack\", {\n    enumerable: true,\n    get: function () {\n      return saveTrack;\n    }\n  });\n  Object.defineProperty(exports, \"deleteTrack\", {\n    enumerable: true,\n    get: function () {\n      return deleteTrack;\n    }\n  });\n  var _babelRuntimeHelpersObjectWithoutProperties = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutProperties\");\n  var _objectWithoutProperties = _interopDefault(_babelRuntimeHelpersObjectWithoutProperties);\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var TRACKS_KEY = \"marine_nav_tracks_v1\";\n  var loadTracks = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* () {\n      var raw = yield AsyncStorage.default.getItem(TRACKS_KEY);\n      if (!raw) return [];\n      try {\n        var parsed = JSON.parse(raw);\n        return parsed.map(_ref2 => {\n          var points = _ref2.points,\n            summary = (0, _objectWithoutProperties.default)(_ref2, _excluded);\n          return summary;\n        });\n      } catch (e) {\n        console.error(\"Failed to parse tracks from storage\", e);\n        return [];\n      }\n    });\n    return function loadTracks() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var loadTrackById = /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator.default)(function* (id) {\n      var raw = yield AsyncStorage.default.getItem(TRACKS_KEY);\n      if (!raw) return null;\n      try {\n        var parsed = JSON.parse(raw);\n        return parsed.find(t => t.id === id) ?? null;\n      } catch (e) {\n        console.error(\"Failed to parse tracks from storage\", e);\n        return null;\n      }\n    });\n    return function loadTrackById(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var saveTrack = /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator.default)(function* (track) {\n      var raw = yield AsyncStorage.default.getItem(TRACKS_KEY);\n      var tracks = [];\n      if (raw) {\n        try {\n          tracks = JSON.parse(raw);\n        } catch (e) {\n          console.error(\"Failed to parse existing tracks, resetting\", e);\n          tracks = [];\n        }\n      }\n      tracks.push(track);\n      yield AsyncStorage.default.setItem(TRACKS_KEY, JSON.stringify(tracks));\n    });\n    return function saveTrack(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var deleteTrack = /*#__PURE__*/function () {\n    var _ref5 = (0, _asyncToGenerator.default)(function* (id) {\n      var raw = yield AsyncStorage.default.getItem(TRACKS_KEY);\n      if (!raw) return;\n      try {\n        var parsed = JSON.parse(raw);\n        var filtered = parsed.filter(t => t.id !== id);\n        yield AsyncStorage.default.setItem(TRACKS_KEY, JSON.stringify(filtered));\n      } catch (e) {\n        console.error(\"Failed to delete track\", e);\n      }\n    });\n    return function deleteTrack(_x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n});","lineCount":115,"map":[[13,2,27,0,"Object"],[13,8,27,0],[13,9,27,0,"defineProperty"],[13,23,27,0],[13,24,27,0,"exports"],[13,31,27,0],[14,4,27,0,"enumerable"],[14,14,27,0],[15,4,27,0,"get"],[15,7,27,0],[15,18,27,0,"get"],[15,19,27,0],[16,6,27,0],[16,13,27,0,"loadTracks"],[16,23,27,0],[17,4,27,0],[18,2,27,0],[19,2,39,0,"Object"],[19,8,39,0],[19,9,39,0,"defineProperty"],[19,23,39,0],[19,24,39,0,"exports"],[19,31,39,0],[20,4,39,0,"enumerable"],[20,14,39,0],[21,4,39,0,"get"],[21,7,39,0],[21,18,39,0,"get"],[21,19,39,0],[22,6,39,0],[22,13,39,0,"loadTrackById"],[22,26,39,0],[23,4,39,0],[24,2,39,0],[25,2,51,0,"Object"],[25,8,51,0],[25,9,51,0,"defineProperty"],[25,23,51,0],[25,24,51,0,"exports"],[25,31,51,0],[26,4,51,0,"enumerable"],[26,14,51,0],[27,4,51,0,"get"],[27,7,51,0],[27,18,51,0,"get"],[27,19,51,0],[28,6,51,0],[28,13,51,0,"saveTrack"],[28,22,51,0],[29,4,51,0],[30,2,51,0],[31,2,66,0,"Object"],[31,8,66,0],[31,9,66,0,"defineProperty"],[31,23,66,0],[31,24,66,0,"exports"],[31,31,66,0],[32,4,66,0,"enumerable"],[32,14,66,0],[33,4,66,0,"get"],[33,7,66,0],[33,18,66,0,"get"],[33,19,66,0],[34,6,66,0],[34,13,66,0,"deleteTrack"],[34,24,66,0],[35,4,66,0],[36,2,66,0],[37,2,76,2],[37,6,76,2,"_babelRuntimeHelpersObjectWithoutProperties"],[37,49,76,2],[37,52,76,2,"require"],[37,59,76,2],[37,60,76,2,"_dependencyMap"],[37,74,76,2],[38,2,76,2],[38,6,76,2,"_objectWithoutProperties"],[38,30,76,2],[38,33,76,2,"_interopDefault"],[38,48,76,2],[38,49,76,2,"_babelRuntimeHelpersObjectWithoutProperties"],[38,92,76,2],[39,2,76,2],[39,6,76,2,"_babelRuntimeHelpersAsyncToGenerator"],[39,42,76,2],[39,45,76,2,"require"],[39,52,76,2],[39,53,76,2,"_dependencyMap"],[39,67,76,2],[40,2,76,2],[40,6,76,2,"_asyncToGenerator"],[40,23,76,2],[40,26,76,2,"_interopDefault"],[40,41,76,2],[40,42,76,2,"_babelRuntimeHelpersAsyncToGenerator"],[40,78,76,2],[41,2,1,0],[41,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[41,42,1,0],[41,45,1,0,"require"],[41,52,1,0],[41,53,1,0,"_dependencyMap"],[41,67,1,0],[42,2,1,0],[42,6,1,0,"AsyncStorage"],[42,18,1,0],[42,21,1,0,"_interopDefault"],[42,36,1,0],[42,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[42,73,1,0],[43,2,25,0],[43,6,25,6,"TRACKS_KEY"],[43,16,25,16],[43,19,25,19],[43,41,25,41],[44,2,27,7],[44,6,27,13,"loadTracks"],[44,16,27,23],[45,4,27,23],[45,8,27,23,"_ref"],[45,12,27,23],[45,19,27,23,"_asyncToGenerator"],[45,36,27,23],[45,37,27,23,"default"],[45,44,27,23],[45,46,27,26],[45,59,27,63],[46,6,28,2],[46,10,28,8,"raw"],[46,13,28,11],[46,22,28,20,"AsyncStorage"],[46,34,28,32],[46,35,28,32,"default"],[46,42,28,32],[46,43,28,33,"getItem"],[46,50,28,40],[46,51,28,41,"TRACKS_KEY"],[46,61,28,51],[46,62,28,52],[47,6,29,2],[47,10,29,6],[47,11,29,7,"raw"],[47,14,29,10],[47,16,29,12],[47,23,29,19],[47,25,29,21],[48,6,30,2],[48,10,30,6],[49,8,31,4],[49,12,31,10,"parsed"],[49,18,31,25],[49,21,31,28,"JSON"],[49,25,31,32],[49,26,31,33,"parse"],[49,31,31,38],[49,32,31,39,"raw"],[49,35,31,42],[49,36,31,43],[50,8,32,4],[50,15,32,11,"parsed"],[50,21,32,17],[50,22,32,18,"map"],[50,25,32,21],[50,26,32,22,"_ref2"],[50,31,32,22],[51,10,32,22],[51,14,32,25,"points"],[51,20,32,31],[51,23,32,31,"_ref2"],[51,28,32,31],[51,29,32,25,"points"],[51,35,32,31],[52,12,32,36,"summary"],[52,19,32,43],[52,26,32,43,"_objectWithoutProperties"],[52,50,32,43],[52,51,32,43,"default"],[52,58,32,43],[52,60,32,43,"_ref2"],[52,65,32,43],[52,67,32,43,"_excluded"],[52,76,32,43],[53,10,32,43],[53,17,32,50,"summary"],[53,24,32,57],[54,8,32,57],[54,10,32,58],[55,6,33,2],[55,7,33,3],[55,8,33,4],[55,15,33,11,"e"],[55,16,33,12],[55,18,33,14],[56,8,34,4,"console"],[56,15,34,11],[56,16,34,12,"error"],[56,21,34,17],[56,22,34,18],[56,59,34,55],[56,61,34,57,"e"],[56,62,34,58],[56,63,34,59],[57,8,35,4],[57,15,35,11],[57,17,35,13],[58,6,36,2],[59,4,37,0],[59,5,37,1],[60,4,37,1],[60,20,27,13,"loadTracks"],[60,30,27,23,"loadTracks"],[60,31,27,23],[61,6,27,23],[61,13,27,23,"_ref"],[61,17,27,23],[61,18,27,23,"apply"],[61,23,27,23],[61,30,27,23,"arguments"],[61,39,27,23],[62,4,27,23],[63,2,27,23],[63,5,37,1],[64,2,39,7],[64,6,39,13,"loadTrackById"],[64,19,39,26],[65,4,39,26],[65,8,39,26,"_ref3"],[65,13,39,26],[65,20,39,26,"_asyncToGenerator"],[65,37,39,26],[65,38,39,26,"default"],[65,45,39,26],[65,47,39,29],[65,58,39,36,"id"],[65,60,39,46],[65,62,39,74],[66,6,40,2],[66,10,40,8,"raw"],[66,13,40,11],[66,22,40,20,"AsyncStorage"],[66,34,40,32],[66,35,40,32,"default"],[66,42,40,32],[66,43,40,33,"getItem"],[66,50,40,40],[66,51,40,41,"TRACKS_KEY"],[66,61,40,51],[66,62,40,52],[67,6,41,2],[67,10,41,6],[67,11,41,7,"raw"],[67,14,41,10],[67,16,41,12],[67,23,41,19],[67,27,41,23],[68,6,42,2],[68,10,42,6],[69,8,43,4],[69,12,43,10,"parsed"],[69,18,43,25],[69,21,43,28,"JSON"],[69,25,43,32],[69,26,43,33,"parse"],[69,31,43,38],[69,32,43,39,"raw"],[69,35,43,42],[69,36,43,43],[70,8,44,4],[70,15,44,11,"parsed"],[70,21,44,17],[70,22,44,18,"find"],[70,26,44,22],[70,27,44,24,"t"],[70,28,44,25],[70,32,44,30,"t"],[70,33,44,31],[70,34,44,32,"id"],[70,36,44,34],[70,41,44,39,"id"],[70,43,44,41],[70,44,44,42],[70,48,44,46],[70,52,44,50],[71,6,45,2],[71,7,45,3],[71,8,45,4],[71,15,45,11,"e"],[71,16,45,12],[71,18,45,14],[72,8,46,4,"console"],[72,15,46,11],[72,16,46,12,"error"],[72,21,46,17],[72,22,46,18],[72,59,46,55],[72,61,46,57,"e"],[72,62,46,58],[72,63,46,59],[73,8,47,4],[73,15,47,11],[73,19,47,15],[74,6,48,2],[75,4,49,0],[75,5,49,1],[76,4,49,1],[76,20,39,13,"loadTrackById"],[76,33,39,26,"loadTrackById"],[76,34,39,26,"_x"],[76,36,39,26],[77,6,39,26],[77,13,39,26,"_ref3"],[77,18,39,26],[77,19,39,26,"apply"],[77,24,39,26],[77,31,39,26,"arguments"],[77,40,39,26],[78,4,39,26],[79,2,39,26],[79,5,49,1],[80,2,51,7],[80,6,51,13,"saveTrack"],[80,15,51,22],[81,4,51,22],[81,8,51,22,"_ref4"],[81,13,51,22],[81,20,51,22,"_asyncToGenerator"],[81,37,51,22],[81,38,51,22,"default"],[81,45,51,22],[81,47,51,25],[81,58,51,32,"track"],[81,63,51,44],[81,65,51,64],[82,6,52,2],[82,10,52,8,"raw"],[82,13,52,11],[82,22,52,20,"AsyncStorage"],[82,34,52,32],[82,35,52,32,"default"],[82,42,52,32],[82,43,52,33,"getItem"],[82,50,52,40],[82,51,52,41,"TRACKS_KEY"],[82,61,52,51],[82,62,52,52],[83,6,53,2],[83,10,53,6,"tracks"],[83,16,53,21],[83,19,53,24],[83,21,53,26],[84,6,54,2],[84,10,54,6,"raw"],[84,13,54,9],[84,15,54,11],[85,8,55,4],[85,12,55,8],[86,10,56,6,"tracks"],[86,16,56,12],[86,19,56,15,"JSON"],[86,23,56,19],[86,24,56,20,"parse"],[86,29,56,25],[86,30,56,26,"raw"],[86,33,56,29],[86,34,56,30],[87,8,57,4],[87,9,57,5],[87,10,57,6],[87,17,57,13,"e"],[87,18,57,14],[87,20,57,16],[88,10,58,6,"console"],[88,17,58,13],[88,18,58,14,"error"],[88,23,58,19],[88,24,58,20],[88,68,58,64],[88,70,58,66,"e"],[88,71,58,67],[88,72,58,68],[89,10,59,6,"tracks"],[89,16,59,12],[89,19,59,15],[89,21,59,17],[90,8,60,4],[91,6,61,2],[92,6,62,2,"tracks"],[92,12,62,8],[92,13,62,9,"push"],[92,17,62,13],[92,18,62,14,"track"],[92,23,62,19],[92,24,62,20],[93,6,63,2],[93,12,63,8,"AsyncStorage"],[93,24,63,20],[93,25,63,20,"default"],[93,32,63,20],[93,33,63,21,"setItem"],[93,40,63,28],[93,41,63,29,"TRACKS_KEY"],[93,51,63,39],[93,53,63,41,"JSON"],[93,57,63,45],[93,58,63,46,"stringify"],[93,67,63,55],[93,68,63,56,"tracks"],[93,74,63,62],[93,75,63,63],[93,76,63,64],[94,4,64,0],[94,5,64,1],[95,4,64,1],[95,20,51,13,"saveTrack"],[95,29,51,22,"saveTrack"],[95,30,51,22,"_x2"],[95,33,51,22],[96,6,51,22],[96,13,51,22,"_ref4"],[96,18,51,22],[96,19,51,22,"apply"],[96,24,51,22],[96,31,51,22,"arguments"],[96,40,51,22],[97,4,51,22],[98,2,51,22],[98,5,64,1],[99,2,66,7],[99,6,66,13,"deleteTrack"],[99,17,66,24],[100,4,66,24],[100,8,66,24,"_ref5"],[100,13,66,24],[100,20,66,24,"_asyncToGenerator"],[100,37,66,24],[100,38,66,24,"default"],[100,45,66,24],[100,47,66,27],[100,58,66,34,"id"],[100,60,66,44],[100,62,66,64],[101,6,67,2],[101,10,67,8,"raw"],[101,13,67,11],[101,22,67,20,"AsyncStorage"],[101,34,67,32],[101,35,67,32,"default"],[101,42,67,32],[101,43,67,33,"getItem"],[101,50,67,40],[101,51,67,41,"TRACKS_KEY"],[101,61,67,51],[101,62,67,52],[102,6,68,2],[102,10,68,6],[102,11,68,7,"raw"],[102,14,68,10],[102,16,68,12],[103,6,69,2],[103,10,69,6],[104,8,70,4],[104,12,70,10,"parsed"],[104,18,70,25],[104,21,70,28,"JSON"],[104,25,70,32],[104,26,70,33,"parse"],[104,31,70,38],[104,32,70,39,"raw"],[104,35,70,42],[104,36,70,43],[105,8,71,4],[105,12,71,10,"filtered"],[105,20,71,18],[105,23,71,21,"parsed"],[105,29,71,27],[105,30,71,28,"filter"],[105,36,71,34],[105,37,71,36,"t"],[105,38,71,37],[105,42,71,42,"t"],[105,43,71,43],[105,44,71,44,"id"],[105,46,71,46],[105,51,71,51,"id"],[105,53,71,53],[105,54,71,54],[106,8,72,4],[106,14,72,10,"AsyncStorage"],[106,26,72,22],[106,27,72,22,"default"],[106,34,72,22],[106,35,72,23,"setItem"],[106,42,72,30],[106,43,72,31,"TRACKS_KEY"],[106,53,72,41],[106,55,72,43,"JSON"],[106,59,72,47],[106,60,72,48,"stringify"],[106,69,72,57],[106,70,72,58,"filtered"],[106,78,72,66],[106,79,72,67],[106,80,72,68],[107,6,73,2],[107,7,73,3],[107,8,73,4],[107,15,73,11,"e"],[107,16,73,12],[107,18,73,14],[108,8,74,4,"console"],[108,15,74,11],[108,16,74,12,"error"],[108,21,74,17],[108,22,74,18],[108,46,74,42],[108,48,74,44,"e"],[108,49,74,45],[108,50,74,46],[109,6,75,2],[110,4,76,0],[110,5,76,1],[111,4,76,1],[111,20,66,13,"deleteTrack"],[111,31,66,24,"deleteTrack"],[111,32,66,24,"_x3"],[111,35,66,24],[112,6,66,24],[112,13,66,24,"_ref5"],[112,18,66,24],[112,19,66,24,"apply"],[112,24,66,24],[112,31,66,24,"arguments"],[112,40,66,24],[113,4,66,24],[114,2,66,24],[114,5,76,1],[115,0,76,2],[115,3]],"functionMap":{"names":["<global>","loadTracks","parsed.map$argument_0","loadTrackById","parsed.find$argument_0","saveTrack","deleteTrack","parsed.filter$argument_0"],"mappings":"AAA;0BC0B;sBCK,mCD;CDK;6BGE;uBCK,kBD;CHK;yBKE;CLa;2BME;mCCK,kBD;CNK"},"hasCjsExports":false},"type":"js/module"}]}